/*!
 * messenger
 * @version: 2.11.7
 * @license: Genesys Cloud Services, Inc.
 */
!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("__Messenger",[],n):"object"==typeof exports?exports.__Messenger=n():e.__Messenger=n()}("undefined"!=typeof self?self:this,(function(){return function(e){function n(n){for(var u,o,r=n[0],D=n[1],i=0,a=[];i<r.length;i++)o=r[i],Object.prototype.hasOwnProperty.call(t,o)&&t[o]&&a.push(t[o][0]),t[o]=0;for(u in D)Object.prototype.hasOwnProperty.call(D,u)&&(e[u]=D[u]);for(s&&s(n);a.length;)a.shift()()}var u={},t={34:0};function o(n){if(u[n])return u[n].exports;var t=u[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.e=function(e){var n=[],u=t[e];if(0!==u)if(u)n.push(u[2]);else{var r=new Promise((function(n,o){u=t[e]=[n,o]}));n.push(u[2]=r);var D,i=document.createElement("script");i.charset="utf-8",i.timeout=120,o.nc&&i.setAttribute("nonce",o.nc),i.src=function(e){return o.p+""+({2:"messagingservicemiddleware"}[e]||e)+".min.js"}(e);var s=new Error;D=function(n){i.onerror=i.onload=null,clearTimeout(a);var u=t[e];if(0!==u){if(u){var o=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.src;s.message="Loading chunk "+e+" failed.\n("+o+": "+r+")",s.name="ChunkLoadError",s.type=o,s.request=r,u[1](s)}t[e]=void 0}};var a=setTimeout((function(){D({type:"timeout",target:i})}),12e4);i.onerror=i.onload=D,document.head.appendChild(i)}return Promise.all(n)},o.m=e,o.c=u,o.d=function(e,n,u){o.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:u})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,n){if(1&n&&(e=o(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var u=Object.create(null);if(o.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var t in e)o.d(u,t,function(n){return e[n]}.bind(null,t));return u},o.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(n,"a",n),n},o.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},o.p="",o.oe=function(e){throw console.error(e),e};var r=("undefined"!=typeof self?self:this).webpackJsonp_Messenger=("undefined"!=typeof self?self:this).webpackJsonp_Messenger||[],D=r.push.bind(r);r.push=n,r=r.slice();for(var i=0;i<r.length;i++)n(r[i]);var s=D;return o(o.s=579)}({12:function(e,n,u){"use strict";u.d(n,"K",(function(){return t})),u.d(n,"r",(function(){return o})),u.d(n,"E",(function(){return r})),u.d(n,"F",(function(){return D})),u.d(n,"B",(function(){return i})),u.d(n,"C",(function(){return s})),u.d(n,"t",(function(){return a})),u.d(n,"s",(function(){return c})),u.d(n,"R",(function(){return d})),u.d(n,"Q",(function(){return l})),u.d(n,"x",(function(){return f})),u.d(n,"w",(function(){return C})),u.d(n,"L",(function(){return m})),u.d(n,"y",(function(){return p})),u.d(n,"c",(function(){return F})),u.d(n,"n",(function(){return g})),u.d(n,"o",(function(){return E})),u.d(n,"p",(function(){return v})),u.d(n,"f",(function(){return h})),u.d(n,"G",(function(){return b})),u.d(n,"b",(function(){return A})),u.d(n,"a",(function(){return y})),u.d(n,"N",(function(){return B})),u.d(n,"u",(function(){return S})),u.d(n,"v",(function(){return w})),u.d(n,"m",(function(){return T})),u.d(n,"I",(function(){return x})),u.d(n,"H",(function(){return O})),u.d(n,"J",(function(){return M})),u.d(n,"j",(function(){return j})),u.d(n,"i",(function(){return k})),u.d(n,"l",(function(){return I})),u.d(n,"k",(function(){return R})),u.d(n,"g",(function(){return N})),u.d(n,"z",(function(){return P})),u.d(n,"A",(function(){return _})),u.d(n,"P",(function(){return U})),u.d(n,"M",(function(){return L})),u.d(n,"q",(function(){return H})),u.d(n,"h",(function(){return W})),u.d(n,"D",(function(){return z})),u.d(n,"d",(function(){return G})),u.d(n,"O",(function(){return J})),u.d(n,"e",(function(){return q}));var t=1e3,o=5e3,r="70%",D=426,i="90%",s=600,a=410,c=96,d=410,l=100,f=105,C=506,m="outbound",p="inbound",F="gcatkn",g="card",E="carousel",v=1800,h="CoBrowse",b="Offering",A="active",y="accepted",B="rejected",S="expired",w="failed",T="cobrowse",x="OfferingExpired",O="OfferingAccepted",M="OfferingRejected",j="CobrowseOfferActive",k="CobrowseOfferAccepted",I="CobrowseOfferRejected",R="CobrowseOfferExpired",N="cobrowseActive",P="joinFailure",_=":gcmk",U="aid",L="presence",H="disconnect",W="CobrowseFrame",z="MessengerFrame",G="M3SS3NG3R-PLUG1N-Br0adcastChanne1",J="signin",q="Messenger is cleared. Please reload the page to reinitialize."},13:function(e,n,u){"use strict";u.d(n,"x",(function(){return r})),u.d(n,"v",(function(){return D})),u.d(n,"t",(function(){return i})),u.d(n,"w",(function(){return s})),u.d(n,"k",(function(){return a})),u.d(n,"s",(function(){return c})),u.d(n,"j",(function(){return d})),u.d(n,"h",(function(){return l})),u.d(n,"y",(function(){return f})),u.d(n,"b",(function(){return C})),u.d(n,"c",(function(){return m})),u.d(n,"a",(function(){return p})),u.d(n,"z",(function(){return F})),u.d(n,"g",(function(){return g})),u.d(n,"q",(function(){return E})),u.d(n,"d",(function(){return v})),u.d(n,"i",(function(){return h})),u.d(n,"e",(function(){return b})),u.d(n,"n",(function(){return A})),u.d(n,"l",(function(){return y})),u.d(n,"o",(function(){return B})),u.d(n,"p",(function(){return S})),u.d(n,"f",(function(){return w})),u.d(n,"m",(function(){return T})),u.d(n,"r",(function(){return x})),u.d(n,"A",(function(){return O})),u.d(n,"u",(function(){return M}));var t=u(19),o=u.n(t);function r(){var e={},n=!1,u=0;"boolean"==typeof(arguments.length<=0?void 0:arguments[0])&&(n=arguments.length<=0?void 0:arguments[0],u++);for(var t=function(u){for(var t in u)u.hasOwnProperty(t)&&(n&&"[object Object]"===Object.prototype.toString.call(u[t])?e[t]=r(e[t],u[t]):e[t]=u[t])};u<arguments.length;u++)t(u<0||arguments.length<=u?void 0:arguments[u]);return e}function D(){var e=!1;return window.screen&&(e=window.screen.width>window.screen.height),e}function i(){var e=!1,n=document.getElementById("full-screen-indicator");window.getComputedStyle&&n&&(e="block"===window.getComputedStyle(n).display);return e}function s(){var e,n=!1,u=!1,t=document.getElementById("full-screen-indicator");window.getComputedStyle&&t?u="block"===window.getComputedStyle(t).display:u=!0;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))||/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e))&&(n=!0),n&&u}function a(){var e,n,u,t=window.navigator.userAgent,o=window.navigator.platform,r=window.navigator.maxTouchPoints;return/MSIE/.test(t)||/Edge/.test(t)||/Trident\/7\./.test(t)?e="Internet Explorer":/Chrome/.test(t)?(/CrOS/.test(t)&&(o="CrOS"),e="Chrome"):/Opera/.test(t)?e="Opera":/Firefox/.test(t)?e="Firefox":/Safari/.test(t)?(e="Safari",(/iPhone/.test(t)||/iPad/.test(t)||/iPod/.test(t))&&(n="iOS",/FxiOS/.test(t)?e="Firefox":/CriOS/.test(t)&&(e="Chrome"))):/Android/.test(t)&&(e="Android Webkit Browser",(u=/Android\s[\.\d]+/.exec(t)||[]).length&&(n=u[0])),"MacIntel"===o||"MacPPC"===o?n=r&&r>2?"iOS":"Mac OS X":"CrOS"===o?n="ChromeOS":"Win32"===o||"Win64"==o?n="Windows":!n&&/Android/.test(t)?n="Android":!n&&/Linux/.test(o)?n="Linux":!n&&/Windows/.test(t)&&(n="Windows"),{browser:e||"",os:n||""}}function c(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var n=16*Math.random()|0;return("x"==e?n:3&n|8).toString(16)}))}function d(){var e=navigator.languages&&navigator.languages[0]||navigator.language||navigator.userLanguage;return e&&"string"==typeof e?e.toLowerCase():""}function l(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,u=arguments.length>2?arguments[2]:void 0;if(0===e)return"0 Bytes";var t=1e3,o=n<0?0:n,r=Math.floor(Math.log(e)/Math.log(t));return(u?Math.round(e/Math.pow(t,r)):parseFloat((e/Math.pow(t,r)).toFixed(o)))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][r]}function f(e,n){var u=e.indexOf(n);return-1!==u&&e.splice(u,1),e}var C={"en-us":"en",cs:"cs",da:"da",de:"de",es:"es",et:"et",fi:"fi",it:"it",ko:"ko",lt:"lt",lv:"lv",nl:"nl",no:"nb",pl:"pl","pt-br":"pt-BR",ru:"ru",sv:"sv",th:"th",tr:"tr","zh-cn":"zh-CN","zh-tw":"zh-TW",fr:"fr",ja:"ja",ar:"ar",he:"he","pt-pt":"pt-PT"},m={"conversations.home":{showHeaderTitle:!0,showHeaderSubTitle:!0,expandHeader:!0,backButton:!1,deleteButton:!1,closeButton:!1,sigInButton:!1,moreVertButton:!1},"conversations.conversations":{showHeaderTitle:!0,showHeaderSubTitle:!1,expandHeader:!1,backButton:!0,deleteButton:!0,closeButton:!1,sigInButton:!0,moreVertButton:!0},"knowledge.search":{showHeaderTitle:!1,showHeaderSubTitle:!1,expandHeader:!1,backButton:!0,deleteButton:!1,closeButton:!1,sigInButton:!1,moreVertButton:!1},"knowledge.article":{showHeaderTitle:!1,showHeaderSubTitle:!1,expandHeader:!1,backButton:!0,deleteButton:!1,closeButton:!1,sigInButton:!1,moreVertButton:!1},"knowledge.category":{showHeaderTitle:!1,showHeaderSubTitle:!1,expandHeader:!1,backButton:!0,deleteButton:!1,closeButton:!1,sigInButton:!1,moreVertButton:!1},"conversations.filePreview":{showHeaderTitle:!0,showHeaderSubTitle:!1,expandHeader:!1,backButton:!0,deleteButton:!0,closeButton:!1,sigInButton:!0,moreVertButton:!0},"cobrowse.connect":{showHeaderTitle:!0,showHeaderSubTitle:!1,expandHeader:!1,backButton:!0,closeButton:!1,sigInButton:!1,moreVertButton:!1},"cobrowse.sharing":{showHeaderTitle:!0,showHeaderSubTitle:!1,expandHeader:!1,backButton:!0,closeButton:!1,sigInButton:!1,moreVertButton:!1}},p=["Genesys","Identifiers","Journey","Engage","Launcher","MessagingService","Cookies","GenesysJS","Messenger","Auth","LocalStorageTest","SupportCenter","Knowledge","KnowledgeService","Home","SubMessenger","ThirdPartyHelper"];function F(e,n){var u={text:e,truncated:!1};return e.length>n&&(u.text=e.slice(0,n)+"...",u.truncated=!0),u}function g(){return/^(\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F|\uD83D\uDC68(?:\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68\uD83C\uDFFB|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|[\u2695\u2696\u2708]\uFE0F|\uD83D[\uDC66\uDC67]|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708])\uFE0F|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C[\uDFFB-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)\uD83C\uDFFB|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB\uDFFC])|\uD83D\uDC69(?:\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB-\uDFFD])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|(?:(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)\uFE0F|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\u200D[\u2640\u2642])|\uD83C\uDFF4\u200D\u2620)\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDF6\uD83C\uDDE6|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDB5\uDDB6\uDDBB\uDDD2-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5\uDEEB\uDEEC\uDEF4-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])|(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])\uFE0F?|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD]))+$/g}function E(e){return e.storage||"LocalStorage"}function v(e,n){var u="";if("video"===e.toLowerCase())u=document.createElement("video").canPlayType(n);else if("audio"===e.toLowerCase()){u=document.createElement("audio").canPlayType(n)}return u}function h(e){var n=e.split("/"),u=o()(n,2),t=u[0],r=u[1];r&&-1!==r.indexOf("vnd.openxmlformats-officedocument.wordprocessingml.")?r="vnd.openxmlformats-officedocument.wordprocessingml.*":r&&-1!==r.indexOf("vnd.openxmlformats-officedocument.presentationml.")?r="vnd.openxmlformats-officedocument.presentationml.*":r&&-1!==r.indexOf("vnd.openxmlformats-officedocument.spreadsheetml.")&&(r="vnd.openxmlformats-officedocument.spreadsheetml.*");return!(t=t.toLowerCase())||"image"!==t&&"audio"!==t&&"video"!==t&&"text"!==t?r&&"pdf"===r?r.toUpperCase():r&&["vnd.openxmlformats-officedocument.wordprocessingml.*","msword","vnd.google-apps.document","vnd.oasis.opendocument.text","vnd.oasis.opendocument.text-master","application/vnd.oasis.opendocument.text-template"].includes(r)?"Document":r&&["vnd.ms-powerpoint","vnd.openxmlformats-officedocument.presentationml.*","vnd.google-apps.presentation","vnd.oasis.opendocument.presentation","vnd.oasis.opendocument.presentation-template"].includes(r)?"Presentation":r&&["vnd.google-apps.spreadsheet","vnd.ms-excel","vnd.openxmlformats-officedocument.spreadsheetml.*","vnd.oasis.opendocument.spreadsheet","vnd.oasis.opendocument.spreadsheet-template"].includes(r)?"Spreadsheet":"File":t.charAt(0).toUpperCase()+t.slice(1)}function b(e){var n=!1;if(["image/jpeg","image/png","image/gif","image/svg+xml"].includes(e))n=!0;else{var u=document.createElement("canvas");u.width=u.height=1,n=null!==u.toDataURL(e).match(e)}return n}function A(e){var n="",u="",t=e||{},o=t.type,r=t.mime;if(o&&r)n=o,u=r;else if(o){var D=h(o)||"File";n=D&&-1!==["Document","PDF","Presentation","Spreadsheet","Text"].indexOf(D)?"File":D,u=o}return{mediaType:n,mimeType:u}}function y(e){return(e||{}).preview?"":"genesys-mxg-conversation"}function B(e){var n=void 0;return e&&(e.coBrowse?e=e.coBrowse:e.video&&(e=e.video),e.sessionId?n=e.sessionId:e.offeringId&&(n=e.offeringId)),n}function S(e){var n=void 0;return e&&(e.coBrowse||e.sessionJoinToken?n="cobrowse":(e.video||e.offeringId)&&(n="video")),n}function w(e,n){var u=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&(n&&"function"==typeof n&&n(),u.disconnect())}))}),{});e&&u.observe(e)}function T(e){return(e||{}).preview?"":"genesys-mxg-homescreen"}function x(e){var n="unknown",u={md:"text/markdown",tsv:"text/tab-separated-values",vcf:"text/vcard",mpa:"audio/MPA"};if(e&&e.length>0){var t=(e=e.toLowerCase()).split(".").pop();t&&t.length>0&&u.hasOwnProperty(t)&&(n=u[t])}return n}function O(e,n){var u=!1;if(e&&n&&e.length>0&&n.length>0){e=e.toLowerCase(),n=n.toLowerCase();var t=e.split(".").pop();t&&t.length>0&&"mpa"===t&&"audio/mpeg"===n&&(u=!0)}return u}function M(){return!!/iP(hone|od)/i.test(window.navigator.userAgent)}},14:function(e,n,u){"use strict";u.d(n,"z",(function(){return t})),u.d(n,"y",(function(){return o})),u.d(n,"I",(function(){return r})),u.d(n,"d",(function(){return D})),u.d(n,"c",(function(){return i})),u.d(n,"e",(function(){return s})),u.d(n,"a",(function(){return a})),u.d(n,"b",(function(){return c})),u.d(n,"n",(function(){return d})),u.d(n,"l",(function(){return l})),u.d(n,"L",(function(){return f})),u.d(n,"B",(function(){return C})),u.d(n,"C",(function(){return m})),u.d(n,"A",(function(){return p})),u.d(n,"K",(function(){return F})),u.d(n,"j",(function(){return g})),u.d(n,"i",(function(){return E})),u.d(n,"o",(function(){return v})),u.d(n,"E",(function(){return h})),u.d(n,"q",(function(){return b})),u.d(n,"O",(function(){return A})),u.d(n,"p",(function(){return y})),u.d(n,"P",(function(){return B})),u.d(n,"F",(function(){return S})),u.d(n,"M",(function(){return w})),u.d(n,"k",(function(){return T})),u.d(n,"m",(function(){return x})),u.d(n,"f",(function(){return O})),u.d(n,"r",(function(){return M})),u.d(n,"H",(function(){return j})),u.d(n,"u",(function(){return k})),u.d(n,"t",(function(){return I})),u.d(n,"Q",(function(){return R})),u.d(n,"G",(function(){return N})),u.d(n,"x",(function(){return P})),u.d(n,"s",(function(){return _})),u.d(n,"w",(function(){return U})),u.d(n,"J",(function(){return L})),u.d(n,"v",(function(){return H})),u.d(n,"g",(function(){return W})),u.d(n,"h",(function(){return z})),u.d(n,"D",(function(){return G})),u.d(n,"N",(function(){return J}));var t="LauncherOpened",o="LauncherMinimized",r="MessengerClosed",D="AttachmentFromUser",i="AttachmentFromAgent",s="AttachmentRemoved",a="AttachmentClicked",c="AttachmentDownloaded",d="FetchedPastMessages",l="DesktopMode",f="MobileMode",C="MessageOnHover",m="MessageOnTouch",p="MessageOnFocus",F="Messenger Open",g="Conversation Setup",E="Conversation Restore",v="Fetching Previous Messages",h="Message RoundTrip",b="Fetch history failed",A="Unable to fetch history",y="Not able to fetch history",B="Unable to restore",S="Message only contains whitespaces",w="Cannot send messages to readOnly session",T="Cannot start conversation.",x="There is already an active conversation.",O="Error on Logout",M="Error on getting WebSocket data.",j="Messenger is already opened.",k="Invalid open command. Should specify supported plugin name.",I="Invalid open command. Should specify plugin name.",R="User is not authenticated",N="Messenger is already closed.",P="Launcher button is already visible",_="Invalid configuration of Launcher button",U="Launcher button is already hidden",L="No configuration is provided to Messenger",H="Error from knowledge component API",W="Messenger autostarted",z="Autostart first system message",G="Message received out of order",J="SessionCleared"},19:function(e,n,u){var t=u(78),o=u(79),r=u(73),D=u(80);e.exports=function(e,n){return t(e)||o(e,n)||r(e,n)||D()},e.exports.__esModule=!0,e.exports.default=e.exports},20:function(e,n,u){"use strict";u.r(n),u.d(n,"SEND_MESSAGE",(function(){return t})),u.d(n,"CONFIGURE_SESSION",(function(){return o})),u.d(n,"GET_CONFIGURATION",(function(){return r})),u.d(n,"CONFIGURE_AUTH_SESSION",(function(){return D})),u.d(n,"DELETE_SESSION",(function(){return i})),u.d(n,"HEALTH_CHECK",(function(){return s})),u.d(n,"PLATFORM",(function(){return a})),u.d(n,"SEND_ECHO",(function(){return c})),u.d(n,"TYPING",(function(){return d})),u.d(n,"DURATION_MS",(function(){return l})),u.d(n,"GET_JWT",(function(){return f})),u.d(n,"UNAUTHORIZED",(function(){return C})),u.d(n,"EXPIRY_SESSIONID_SECS",(function(){return m})),u.d(n,"SEND_ATTACHMENT",(function(){return p})),u.d(n,"GET_ATTACHMENT",(function(){return F})),u.d(n,"DELETE_ATTACHMENT",(function(){return g})),u.d(n,"ATTACHMENT",(function(){return E})),u.d(n,"QUICKREPLY",(function(){return v})),u.d(n,"GENERICTEMPLATE",(function(){return h})),u.d(n,"CARD",(function(){return b})),u.d(n,"CAROUSEL",(function(){return A})),u.d(n,"CAROUSEL_TYPE_CARDS",(function(){return y})),u.d(n,"CONTENT_TYPE_QUICKREPLIES",(function(){return B})),u.d(n,"CONTENT_TYPE_CARD",(function(){return S})),u.d(n,"CONTENT_TYPE_CAROUSEL",(function(){return w})),u.d(n,"FILENAMEINVALID",(function(){return T})),u.d(n,"FILENAMETOOLONG",(function(){return x})),u.d(n,"FILEUPLOADUNAVAILABLE",(function(){return O})),u.d(n,"FILETYPEINVALID",(function(){return M})),u.d(n,"FILETOOLARGE",(function(){return j})),u.d(n,"FILESIZEZERO",(function(){return k})),u.d(n,"FILENOTFOUND",(function(){return I})),u.d(n,"FILECONTENTINVALID",(function(){return R})),u.d(n,"EVENT_UPLOAD_SUCCESS",(function(){return N})),u.d(n,"EVENT_DELETE",(function(){return P})),u.d(n,"MESSAGE_LENGTH_EXCEEDED",(function(){return _})),u.d(n,"CUSTOM_ATTRIBUTES_SIZE_EXCEEDED",(function(){return U})),u.d(n,"CUSTOM_ATTRIBUTES_SIZE_EXCEEDED_MESSAGE",(function(){return L})),u.d(n,"SESSION_EXPIRED",(function(){return H})),u.d(n,"COBROWSE",(function(){return W})),u.d(n,"DISCONNECT_EVENT",(function(){return z})),u.d(n,"SIGNIN_EVENT",(function(){return G})),u.d(n,"PRESENCE_EVENT_TYPE",(function(){return J})),u.d(n,"DISCONNECT_TYPE_READONLY",(function(){return q})),u.d(n,"JOIN_EVENT",(function(){return Y})),u.d(n,"ALLOWED_MIME_TYPE",(function(){return V})),u.d(n,"ALREADY_CONNECTED",(function(){return K})),u.d(n,"AUTH_SESSION_ALREADY_EXISTS",(function(){return X})),u.d(n,"RATE_LIMIT_EXCEEDED",(function(){return Z})),u.d(n,"READ_ONLY_SESSION",(function(){return Q})),u.d(n,"AUTH_FAILED",(function(){return $}));var t="onMessage",o="configureSession",r="getConfiguration",D="configureAuthenticatedSession",i="closeSession",s="healthCheck",a="WebMessaging",c="echo",d="Typing",l=5e3,f="getJwt",C="unauthorized",m=31536e3,p="onAttachment",F="getAttachment",g="deleteAttachment",E="Attachment",v="QuickReply",h="GenericTemplate",b="Card",A="Carousel",y="Cards",B="quick-replies",S="card",w="carousel",T="fileNameInvalid",x="fileNameTooLong",O="FileUploadUnavailable",M="fileTypeInvalid",j="fileTooLarge",k="fileSizeZero",I="FileNotFound",R="fileContentInvalid",N="UploadSuccessEvent",P="AttachmentDeletedResponse",_="messageLengthExceeded",U="customAttributesSizeExceeded",L="customAttributes object is larger than allowed limit:",H="SessionExpired",W="CoBrowse",z="Disconnect",G="signin",J="Presence",q="readonly",Y="Join",V=["image/"],K="AlreadyConnected",X="authSessionAlreadyExists",Z="rateLimitExceeded",Q="readOnlySession",$="authenticationFailed"},26:function(e,n){function u(n){return e.exports=u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,u(n)}e.exports=u,e.exports.__esModule=!0,e.exports.default=e.exports},364:function(e,n){e.exports=messagingMiddleware},579:function(e,n,u){"use strict";u.r(n);var t=u(19),o=u.n(t),r=u(8),D=u.n(r),i=u(26),s=u.n(i),a=u(13),c=u(14),d=u(20),l=u(12);function f(e,n){var u=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),u.push.apply(u,t)}return u}function C(e){for(var n=1;n<arguments.length;n++){var u=null!=arguments[n]?arguments[n]:{};n%2?f(Object(u),!0).forEach((function(n){D()(e,n,u[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(u)):f(Object(u)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(u,n))}))}return e}var m={},p=!1,F=!1,g="",E="",v={},h=!1,b=!1,A=!1,y=!1,B=!1,S="_gcmc",w=!1,T=!1,x=!1,O=!1,M=!1,j=!1,k=!1,I=!1,R=!1,N=!1,P=!1,_=!1,U=!1,L=!1,H=!1,W="",z=!1,G=!1,J=!1,q=!1,Y=!1,V=!1,K=!1,X={},Z=!1,Q=!1,$=!1,ee=void 0,ne=!1,ue={},te=!1,oe=!1,re=!1,De=!1,ie=!1,se="",ae={durationMs:l.r,Timeout:!1},ce="sessionActive",de="",le=!1,fe="";window.Genesys&&!re&&Genesys("registerPlugin","MessagingService",(function(e){re=!0;var n=(e||{}).initData||{},t=n.config,r=n.newRelic,D=r||{},i=D.pageActionMetrics,f=D.performanceMetrics,Ce=D.errorMetrics;t&&Object.keys(t).length&&Genesys("loadModule","genesyscloud-messaging-transport",(function(n){var D=t.apps,re=t.deploymentId,me=t.apiEndpoint,pe=t.auth,Fe=(t.authenticationSettings,t.fileUpload),ge=t.messenger,Ee=t.headlessMode,ve=t.homeScreen,he=t.preview,be=Fe||{},Ae=be.enableAttachments,ye=be.useSupportedContentProfile,Be=be.modes,Se={configureOnly:!0},we=(ve||{}).enabled;if("boolean"==typeof Ae&&!0===Ae||"boolean"==typeof ye&&!0===ye?T=!0:Be&&Be.length&&void 0===Ae&&Be.forEach((function(e,n){var u=e.fileTypes;u&&u.length&&(T=!0)})),ge&&ge.apps&&(D=ge.apps),Ee&&"object"==s()(Ee)&&(Z=Ee.enabled),ge&&"boolean"==typeof ge.headlessMode&&(Z=ge.headlessMode),re&&(S=re+":gcmc"),fe=Object(a.q)(t),Z||u.e(2).then(u.bind(null,600)).then((function(e){X=e})),!Object.keys(m).length){var Te=C(C({deploymentId:re,apiEndpoint:me},D.conversations),{},{auth:pe,headlessMode:Z}),xe=(Te||{}).enabled,Oe=Te.auth||{},Me=Oe.enabled,je=Oe.allowSessionUpgrade,ke=((Te||{}).autoStart||{}).enabled;te=xe,Te.conversationDisconnect&&Object.keys(Te.conversationDisconnect).length&&(ue=Te.conversationDisconnect),Me&&"boolean"==typeof Me&&(x=!0,je&&"boolean"==typeof je&&(O=je)),ke&&"boolean"==typeof ke&&(G=ke),m=new n(Te,r)}if(m&&Object.keys(e).length){var Ie=function(){var e=(ue||{}).type;return"boolean"==typeof ee?(ne&&(ee=void 0,ne=!1),ee):e&&e.toLowerCase()===d.DISCONNECT_TYPE_READONLY},Re=function(n){var u=(new Date).getTime();X.onFetchingHistory&&X.onFetchingHistory(),m.fetchHistory().then((function(t){var o=t||{},r=o.messages;o.pageSize,o.pageNumber;i.historyFetched(),r&&r.length?(X.onHistoryFetched&&X.onHistoryFetched(t),e.publish("oldMessages",t),h=!1):(X.onHistoryComplete&&X.onHistoryComplete(),e.publish("historyComplete"),h=!0);var D=(new Date).getTime()-u;f.fetchPreviousMessages({context:{totalLoadTime:D},attributes:{fetchHistoryDuration:D}}),n.resolve(t)}),(function(e){var u=e||{},t=u.body,o=u.message,r={errorName:c.O,errorMessage:t||o||e};Ce.newRelicError(r),n.reject("Unable to fetch history",e)}))},Ne=function(n){var u=(n||{}).publishEvent;e.command(fe+".get",{names:["gcatkn"]}).then((function(n){n&&n.gcatkn&&"undefined"!==n.gcatkn&&(_=!1,e.command("restoreAuthSession").then((function(){u&&e.publish("authenticated",{jwt:n.gcatkn})})))}))},Pe=function(n){var u=(n||{}).forceNewCustomer;e.command("Identifiers.getAll",{forceNewCustomer:u||!1}).then((function(n){var u=n||{},t=u.customerId,o=u.sessionId;g=t||"",m.config.token=t||"",E=o||"",e.command("Identifiers.getJourneyContext").then((function(e){var n=e.customer,u=e.customerSession;n&&Object.keys(n).length&&u&&Object.keys(u).length&&(v=Object(a.x)(!0,v,e))}))}))};window.addEventListener("online",(function(){K=!1,p?(m.reconnect({state:"backOnline"}).then((function(){e.command("restore",{type:"backOnline"})})),e.publish("online")):(m.connect(),e.publish("online"))})),window.addEventListener("offline",(function(){h=!0,K=!0,X.onOffline&&X.onOffline(),e.publish("offline")}));var _e=function(e){m.oCustomAttributes=e};m.getCustomAttributes=function(){return new Promise((function(e,n){e(m.oCustomAttributes&&Object.keys(m.oCustomAttributes).length?m.oCustomAttributes:{})}))},m.openWebSocket=function(n){var u=n.endPoint;return new Promise((function(n,t){var o=(new Date).getTime();e.command("MessengerHelper.openWebSocket",{endPoint:u}).then((function(e){var u=(new Date).getTime()-o;f.conversationSetup({context:{totalLoadTime:u},attributes:{conversationSetUpDuration:u}}),n(e)})).catch((function(e){t(e)}))}))},m.closeWebSocket=function(n){e.command("MessengerHelper.closeWebSocket",n)},m.sendOverSocket=function(n){return new Promise((function(u,t){e.command("MessengerHelper.sendOverSocket",n).then((function(e){u(e)}))}))},m.makeRequest=function(n){return new Promise((function(u,t){e.command("MessengerHelper.makeRequest",n).then((function(e){u(e)})).catch((function(e){t(e)}))}))},m.uploadRequest=function(n){return new Promise((function(u,t){e.command("MessengerHelper.uploadRequest",n).then((function(e){u(e)})).catch((function(e){t(e)}))}))},m.cancelRequest=function(){return new Promise((function(n,u){e.command("MessengerHelper.cancelRequest").then((function(e){n(e)})).catch((function(e){u(e)}))}))},m.getWebSocketData=function(){return new Promise((function(n,u){e.command("MessengerHelper.getWebSocketData").then((function(e){n(e)})).catch((function(e){var n={errorName:c.r,errorMessage:e||c.r};Ce.newRelicError(n),u(e)}))}))},m.refreshAuthToken=function(n){var u=(n||{}).restore,t=new Promise((function(n,t){e.command("Auth.refreshToken").then((function(t){u?(e.command("restore"),n(t)):n(t)})).catch((function(e){t(e)}))}));return t},m.reAuthenticate=function(){return new Promise((function(n,u){x?(e.command("Broadcast.postMessage",{message:"reAuthenticating",plugin:"MessagingService"}),Ue(),X.onReauthenticate&&X.onReauthenticate(),e.command("Auth.reAuthenticate").then((function(e){n(e)}))):u("Authentication is not enabled.")}))},m.getCustomerJourneyId=function(){return g},m.getCustomerSessionId=function(){return E},m.getJourneyContext=function(){return v},m.getTokens=function(n){return e.command(fe+".get",{names:n}).then((function(e){return e}))},m.resetConversation=function(){if(!p){var n={journeyContext:C({},m.oJourneyContext),startNew:!0};e.command("startConversation",n)}},m.onConfigFetched=function(n){!1,X.onStart&&X.onStart(),e.publish("configuration",n)},m.onChatStarted=function(n){var u={name:S+ce,value:"true"};p=!0,F=!1,B=!1,Q=!1,_=!1,Y=!1,X.onStart&&X.onStart({newSession:m.bNewSession}),R||n.authenticated||e.command(fe+".set",u);var t=C({newSession:m.bNewSession||!1},n);$&&(se&&se(t),$=!1,se="",e.publish("conversationReset",t)),e.publish("started",t)},m.onConversationSteppedUp=function(n){!M&&!A||j||(j=!0,M=!1,X.onConversationSteppedUp&&X.onConversationSteppedUp(),m.removeSessionActiveStorage(),e.publish("steppedUpConversation",n),e.command("Broadcast.postMessage",{message:"steppedUpConversation",plugin:"MessagingService"}))},m.authSessionAlreadyExists=function(n){(M||A)&&(k=!0,e.publish("authConversationAlreadyExists",n),e.command("clearAndStepUpConversation").then((function(e){M=!1}),(function(e){M=!1})))},m.onTypingReceived=function(n){I=!0,X.onTyping&&X.onTyping({typing:n.typing}),e.publish("typingReceived",{typing:n.typing})},m.onConversationDisconnect=function(n){var u=(ue||{}).enabled,t=(n.data||{}).readOnly;Q=!0,t&&(ee=t),u&&X.onDisconnect&&(Ie()?X.onDisconnect({readOnly:!0}):X.onDisconnect({readOnly:!1})),e.publish("conversationDisconnected",{message:n.originalData,readOnly:t}),u&&Ie()&&e.publish("readOnlyConversation",n.originalData)},m.onTypingTimeout=function(){I&&(X.onTypingTimeout&&X.onTypingTimeout(),I=!1,e.publish("typingTimeout"))},m.onTypingStarted=function(){e.publish("clientTypingStarted")},m.onReadyToSend=function(){X.onReadyToSend&&X.onReadyToSend()},m.onOutofOrderMessageReceived=function(e){f.messageReceivedOutOfOrder();var n={errorName:c.D,errorMessage:C({error:c.D},e)};Ce.newRelicError(n)},m.onMessageReceived=function(n){X.onMessage&&X.onMessage({messages:n.messages}),I&&(I=!1,m.clearTypingTimeout());var u=n.messages||{};if(u&&Object.keys(u).length){var t=u||{},o=t.id,r=t.messageType,D=t.files,s=t.originatingEntity,a=t.type,c=t.coBrowse;switch((c||{}).type){case"Offering":e.publish("cobrowseOffer",c);break;case"OfferingExpired":e.publish("cobrowseOfferExpired",c);break;case"OfferingAccepted":e.publish("cobrowseOfferAccepted",c);break;case"OfferingRejected":e.publish("cobrowseOfferRejected",c)}if(D&&D.length&&("outbound"===r?i.attachmentFromAgent():"inbound"===r&&i.attachmentFromUser()),"inbound"===r&&o&&a&&"event"!==a){var d=(new Date).getTime();if(d&&de){var l=d-de;f.sendMessageRoundTrip({context:{messageId:o,totalLoadTime:l},attributes:{messageId:o,inboundMessageRoundTrip:l}})}}if(s&&"Bot"===s&&!le&&m.nRAutoStartEndTime){var C=(new Date).getTime();le=!0;var p=C-m.nRAutoStartEndTime;f.autoStartFirstSystemMessage({context:{totalLoadTime:p},attributes:{autoStartFirstSystemMessage:p}})}}e.publish("messagesReceived",{messages:n.originalMessages})},m.onUploadApproved=function(n){X.onUploadApproved&&X.onUploadApproved(n),e.publish("uploadApproved",n)},m.onFileUploading=function(n){X.onFileUploading&&X.onFileUploading(n),e.publish("uploading",n)},m.onFileUploaded=function(n){X.onFileUploaded&&X.onFileUploaded(n),w=!0,e.publish("fileUploaded",n)},m.onFileUploadFailed=function(n){X.onFileUploadFailed&&X.onFileUploadFailed(n),w=!1,e.publish("fileUploadError",n)},m.onFileDownloadError=function(n){e.publish("fileDownloadError",n)},m.onFileUploadCancelled=function(n){w=!1,e.publish("fileUploadCancelled",{attachmentId:n.id})},m.onFileDeleted=function(n){X.onFileDeleted&&X.onFileDeleted(n),w=!1,e.publish("fileDeleted",n)},m.onPendingJoinEventSent=function(){J=!0,q=!1,Y=!1},m.onAllowedFileTypesUpdated=function(n){X.onAllowedFileTypesUpdated&&X.onAllowedFileTypesUpdated(n),n&&n.hasOwnProperty("allowedMedia")&&e.publish("allowedFileTypes",n)},m.onFileReceived=function(n){e.publish("fileReceived",n)},m.onMessagesUpdated=function(n){X.onMessagesUpdated&&X.onMessagesUpdated(n),e.publish("messagesUpdated",n)},m.onChatEnded=function(){X.onEnd&&X.onEnd(),p=!1,e.publish("ended")},m.onLogout=function(n){var u=n||{},t=u.implicit,o=u.reason,r=u.keepIdentifiers,D=u.fromBroadcastEvent;De=!!r,X.onLogout&&X.onLogout(),N=!0,p=!1,M=!1,j=!1,O&&(Y=!0),(t||o&&"logout"===o)&&(r?Pe():e.command("Identifiers.purgeAll"),m.oJourneyContext="",_||U||D||(U=!0,e.command("Auth.logout",{keepIdentifiers:r}).then((function(n){D||setTimeout((function(){e.command("Broadcast.postMessage",{message:"loggedOut",plugin:"MessagingService"})}),400)})).catch((function(e){var n=(((e||{}).data||{}).body||{}).message;_=!0,U=!1;var u={errorName:c.f,errorMessage:n||e||c.f};Ce.newRelicError(u)}))))},m.resetIdentifiers=function(){return new Promise((function(n,u){e.command("Identifiers.purgeAll").then((function(){Pe(),setTimeout((function(){n()}),400)}))}))},m.onSessionExpired=function(n){p&&(Q=!1,p=!1,h=!1,ee=void 0,X.onSessionExpired&&X.onSessionExpired(),m.clearSession(),O&&R||e.command(fe+".remove",{name:S+ce}),e.command(fe+".remove",{name:S+"opn"}),F=!0,J=!1,e.publish("sessionExpired",n))},m.onConversationCleared=function(n){p=!1,Q=!1,ee=void 0,F=!0,J=!1,O&&R||m.removeSessionActiveStorage(),m.getCustomAttributes().then((function(n){var u=((n||{}).messaging||{}).customAttributes;u&&Object.keys(u).length&&e.command("Database.remove",{name:"messaging.customAttributes"})})),X.onConversationCleared&&X.onConversationCleared(n),e.publish("conversationCleared",n)},m.onConversationNotFound=function(e){p&&(Q=!1,p=!1,h=!1,ee=void 0,X.onSessionExpired&&X.onConversationNotFound(),m.clearSession(),F=!0,J=!1)},m.removeOpenStorage=function(){var n=ue||{},u=n.enabled,t=n.type;x&&G&&u&&Q&&t&&Ie()&&e.command(fe+".remove",{name:S+"opn"})},m.removeSessionActiveStorage=function(n){var u=(n||{}).init;e.command(fe+".remove",{name:S+ce}).then((function(){u&&e.command("init")}))},m.onTokenExpired=function(n){if(p){var u=n||{},t=u.code,o=u.commandName;t&&"unauthorized"==t&&("fetchHistory"==o&&e.command("fetchHistory"),"restore"==o&&e.command("restore")),e.publish("tokenExpired",n)}},m.onFetchHistoryFailed=function(e){if(p&&X.onFetchHistoryFailed){var n=((e||{}).data||{}).message,u={errorName:c.q,errorMessage:n||c.q};X.onFetchHistoryFailed(e),Ce.newRelicError(u)}},m.onConnectError=function(){M=!1},m.onError=function(n){var u=n||{},t=u.originalError,o=u.formattedError,r=(t||{}).errorKey;p?(r&&"customAttributesSizeExceeded"==r&&e.publish("customAttributesSizeExceeded",t),X.onError&&X.onError(t)):X.onStartFailed&&X.onStartFailed(t),Ce.newRelicError(o),e.publish("error",{error:JSON.parse(JSON.stringify(t||{}))})},m.onConnectionClosed=function(n){X.onConnectionClosed&&X.onConnectionClosed(n),h=!1,q=!0,e.publish("connectionClosed",n)},m.onReconnecting=function(n){X.onReconnecting&&X.onReconnecting(n),e.publish("reconnecting",n)},m.onRestoreFailed=function(n){O&&R||m.removeSessionActiveStorage(),X.onRestoreFailed&&X.onRestoreFailed("restoreFailed"),e.publish("restoreFailed",n)},m.onReadOnlySession=function(n){var u=n.originalData,t=n.readOnly;ee=t,X.onReadOnly&&X.onReadOnly({readOnly:t}),e.publish("readOnlyConversation",u)},m.onReconnected=function(n){X.onReconnected&&X.onReconnected(n),p=!0,e.publish("reconnected",n),(V||m.bWebSocket)&&p&&(V=!1,h=!0,e.command("restore",{type:"backOnline"}))},m.onMessageSent=function(n){X.onSendingMessage&&X.onSendingMessage(n),e.publish("sendingMessage",{message:n})},m.onDeleteAnonymousInAuthSession=function(){X.onSessionCleared&&X.onSessionCleared(),Q=!1,e.command("Broadcast.postMessage",{message:"deletedAnonymousInAuthSession",plugin:"MessagingService"})},m.onCheckActiveTokensAndRestore=function(){Ne()},e.registerCommand("getConfiguration",(function(e){oe?e.reject(l.e):("boolean"==typeof Ae&&Ae||"boolean"==typeof ye&&ye)&&(!0,m.getConfiguration(e.data).then((function(){e.resolve()})).catch((function(n){!1,e.reject("Please check if supported content profile is enabled in your configuration",n)})),X.onStarting&&X.onStarting())})),e.registerCommand("configureConversation",(function(n){if(oe)n.reject(l.e);else{var u=(n.data||{}).startNew;e.command(fe+".get",{name:S+ce}).then((function(t){if(t){var r=t.split(" "),D=o()(r,1)[0];D&&"string"==typeof D&&(p="true"===D),p?(Ce.newRelicError({errorName:c.m,errorMessage:c.m}),n.reject("There is already an active conversation.")):!$||u?(B=!0,e.command("Database.get",{}).then((function(e){e&&(m.oCustomAttributes=e)})),m.startConversation(n.data,Se).then((function(){n.resolve()})).catch((function(e){Ce.newRelicError({errorName:c.k,errorMessage:c.k}),B=!1,n.reject("Cannot start conversation.")})),X.onStarting&&X.onStarting()):n.reject("Wait until the conversation is being reset")}}))}})),e.registerCommand("startConversation",(function(n){if(oe)n.reject(l.e);else if(te){var u=(n.data||{}).startNew;p?(Ce.newRelicError({errorName:c.m,errorMessage:c.m}),n.reject("There is already an active conversation.")):!$||u?(B=!0,e.command("Database.get",{}).then((function(e){e&&(m.oCustomAttributes=e)})),m.startConversation(n.data,Se).then((function(){n.resolve()})).catch((function(e){Ce.newRelicError({errorName:c.k,errorMessage:c.k}),B=!1,n.reject("Cannot start conversation.")})),X.onStarting&&X.onStarting()):n.reject("Wait until the conversation is being reset")}else n.reject("Conversation app must be enabled in your configuration.")})),e.registerCommand("endConversation",(function(e){var n=(e.data||{}).deletedAnonymousInAuthSession;oe?e.reject(l.e):te?(p=!1,m.endChat({deletedAnonymousInAuthSession:n||""}),x&&R||m.removeSessionActiveStorage(),e.resolve()):e.reject("Conversation app must be enabled in your configuration.")})),e.registerCommand("clearSession",(function(n){if(oe)n.reject(l.e);else if(te){if(p){var u=(n.data||{}).resetSession,t=ue||{},o=t.enabled,r=t.type;p=!1,Q&&(Q=!1),m.clearSession(n.data),X.onSessionCleared&&(o&&r&&Ie()&&u&&"boolean"==typeof u?($=!0,ee=void 0,X.onSessionCleared({resetSession:!0})):X.onSessionCleared()),e.command(fe+".remove",{name:S+ce}),e.publish("sessionCleared"),f.sessionCleared(),n.resolve()}}else n.reject("Conversation app must be enabled in your configuration.")})),e.registerCommand("clear",(function(n){(n&&n.commander&&"Messenger"!==n.commander&&n.reject("".concat(n.commander," plugin does not have permission to access clear SubMessenger plugin command")),oe=!0,X.onMessengerCleared&&X.onMessengerCleared(),m.removeSessionActiveStorage(),p)?(p=!1,m.clearMessenger().then((function(){n.resolve()}))):n.resolve();e.publish("cleared")})),e.registerCommand("clearTypingTimeout",(function(e){oe?e.reject(l.e):te?(I&&(I=!1,m.clearTypingTimeout()),e.resolve()):e.reject("Conversation app must be enabled in your configuration.")})),e.registerCommand("reAuthenticate",(function(e){oe?e.reject(l.e):te?m.reAuthenticate().then((function(n){e.resolve(n)})).catch((function(n){e.reject(n)})):e.reject("Conversation app must be enabled in your configuration.")})),e.registerCommand("joinConversation",(function(e){if(oe)e.reject(l.e);else if(G){var n={type:"autoStart"};(!J||(q||Y)&&(m.bNewSession||!we&&m.bNewConversation))&&(m.bReadyToSendJoinEvent?(m.sendMessage(n),J=!0,q=!1,Y=!1):m.setPendingJoinEvent(n)),e.resolve()}else e.reject("Auto start must be enabled in the configuration")})),e.registerCommand("sendMessage",(function(e){if(oe)e.reject(l.e);else if(te){p&&(de=(new Date).getTime());var n=e.data||{},u=n.message&&!n.message.trim()&&!w,t=ue||{},o=t.enabled,r=t.type;if(o&&Q&&r.toLowerCase()===d.DISCONNECT_TYPE_READONLY&&"boolean"==typeof ee&&!ee&&(ne=!0),o&&Q&&r&&Ie()){var D={errorName:c.M,errorMessage:c.M};Ce.newRelicError(D),e.reject("Conversation session has ended, start a new session to send a message.")}else if(u){var i={errorName:c.F,errorMessage:c.F};Ce.newRelicError(i),e.reject("Message only contains whitespaces")}else if(L)e.reject("Messages cannot be sent while authenticating");else{var s=n.message;s&&(s=s.trim(),Object.assign(n,{message:s})),m.sendMessage(n,K),w=!1,e.resolve()}}else e.reject("Conversation app must be enabled in your configuration.")})),e.registerCommand("sendTyping",(function(e){if(oe)e.reject(l.e);else if(te){var n=ue||{},u=n.enabled,t=n.type;u&&Q&&t&&Ie()?e.reject("Conversation session has ended, start a new session to send a typing indicator."):L?e.reject("Typing indicator cannot be sent while authenticating"):ae.Timeout||(m.sendTyping(),m.onTypingStarted(),ae.Timeout=setTimeout((function(){clearTimeout(ae.Timeout),ae.Timeout=!1}),ae.durationMs))}else e.reject("Conversation app must be enabled in your configuration.")})),e.registerCommand("requestUpload",(function(e){if(oe)e.reject(l.e);else if(te)if(T){var n=ue||{},u=n.enabled,t=n.type;u&&Q&&t&&Ie()?e.reject("Conversation session has ended, start a new session to upload a file."):(m.requestFileUpload(e.data.file),e.resolve())}else e.reject("Sending attachments is disabled in the configuration");else e.reject("Conversation app must be enabled in your configuration.")})),e.registerCommand("uploadFile",(function(e){oe?e.reject(l.e):te?T?(m.uploadFile(e.data),e.resolve()):e.reject("Uploading attachments is disabled in the configuration"):e.reject("Conversation app must be enabled in your configuration.")})),e.registerCommand("getFile",(function(e){oe?e.reject(l.e):te?(m.getFile(e.data),e.resolve()):e.reject("Conversation app must be enabled in your configuration.")})),e.registerCommand("refreshFiles",(function(e){oe?e.reject(l.e):te?(m.refreshFiles(e.data.files),e.resolve()):e.reject("Conversation app must be enabled in your configuration.")})),e.registerCommand("downloadFile",(function(n){oe?n.reject(l.e):te?m.downloadFile(n.data).then((function(u){n.resolve(u),e.publish("fileDownloaded")}),(function(u){n.reject(u),e.publish("fileDownloadError",u)})):n.reject("Conversation app must be enabled in your configuration.")})),e.registerCommand("deleteFile",(function(e){if(oe)e.reject(l.e);else if(te){var n=ue||{},u=n.enabled,t=n.type;u&&Q&&t&&Ie()?e.reject("Conversation session has ended, start a new session to delete a file."):m.deleteFile(e.data)}else e.reject("Conversation app must be enabled in your configuration.")})),e.registerCommand("reconnect",(function(n){oe?n.reject(l.e):te?(p||F||Y)&&(b=!0,e.command(fe+".get",{name:S+ce}).then((function(n){if(n){var u=n.split(" "),t=o()(u,1)[0];t&&"string"==typeof t&&"true"===t?e.command("restore"):x&&!$&&Ne()}}))):n.reject("Conversation app must be enabled in your configuration.")})),e.registerCommand("restore",(function(n){if(oe)n.reject(l.e);else if(te){var u=(n.data||{}).type,t=function(){A=!0,X.onRestoring&&X.onRestoring();var t=(new Date).getTime();m.restore(n.data).then((function(o){b?(X.onReopen&&X.onReopen(o),b=!1):(X.onRestored&&X.onRestored(o),u&&"backOnline"===u&&(h=!1)),A=!1;var r=(new Date).getTime()-t;f.conversationRestore({context:{totalLoadTime:r},attributes:{conversationRestoreDuration:r}}),e.publish("restored",o),n.resolve(o)}),(function(u){var t={errorName:c.P,errorMessage:u};X.onRestoreFailed&&X.onRestoreFailed(u),e.publish("restoreFailed",u),Ce.newRelicError(t),n.reject("Unable to restore")}))};X.onRestoring&&"()=>{}"===X.onRestoring.toString()?e.subscribe("MessagingMiddleware.ready",(function(){setTimeout((function(){t()}),400)})):t()}else n.reject("Conversation app must be enabled in your configuration.")})),e.registerCommand("restoreAuthSession",(function(n){if(A||P||R||n.reject("User must be logged in"),oe)n.reject(l.e);else if(te){var u=(n.data||{}).type,t=function(){A=!0,X.onRestoring&&X.onRestoring(),m.restoreAuthSession(n.data).then((function(t){t?(b?(X.onReopen&&X.onReopen(t),b=!1):(X.onRestored&&X.onRestored(t),u&&"backOnline"===u&&(h=!1)),A=!1,e.publish("restored",t),n.resolve(t)):(X.onRestoreFailed&&X.onRestoreFailed("restoreFailed"),n.resolve())}),(function(u){var t={errorName:c.P,errorMessage:u};X.onRestoreFailed&&X.onRestoreFailed(u),e.publish("restoreFailed",u),Ce.newRelicError(t),n.reject("Unable to restore")}))};X.onRestoring&&"()=>{}"===X.onRestoring.toString()?e.subscribe("MessagingMiddleware.ready",(function(){setTimeout((function(){t()}),300)})):t()}else n.reject("Conversation app must be enabled in your configuration.")})),e.registerCommand("fetchHistory",(function(n){oe?n.reject(l.e):te?p?h?n.resolve("All the messages are fetched"):Re(n):R?$||(p=!0,Re(n)):e.command(fe+".get",{name:S+ce}).then((function(e){if(e){var u=e.split(" "),t=o()(u,1)[0];t&&"string"==typeof t&&"true"===t&&(p=!0,Re(n))}else{var r={errorName:c.p,errorMessage:c.p};Ce.newRelicError(r),n.reject("not able to fetch history")}})):n.reject("Conversation app must be enabled in your configuration.")})),e.registerCommand("refreshToken",(function(e){oe?e.reject(l.e):te?m.refreshAuthToken().then((function(n){e.resolve(n)})).catch((function(n){e.reject(n)})):e.reject("Conversation app must be enabled in your configuration.")})),e.registerCommand("logout",(function(n){oe?n.reject(l.e):te?e.command("endConversation").then((function(){n.resolve()})):n.reject("Conversation app must be enabled in your configuration.")})),e.registerCommand("resetConversation",(function(n){if(oe)n.reject(l.e);else if(te){var u=ue||{},t=u.enabled,o=u.type;if(t&&o&&Ie()&&Q){se=n.resolve,J=!1,e.command("clearSession",{resetSession:!0})}else n.reject("Conversation reset is not allowed. Check your configuration if Read only conversation disconnect is enabled.")}else n.reject("Conversation app must be enabled in your configuration.")})),e.registerCommand("clearConversation",(function(e){oe?e.reject(l.e):te?m.clearConversation().then((function(n){e.resolve(n)}),(function(n){e.reject(n)})):e.reject("Conversation app must be enabled in your configuration.")})),e.registerCommand("stepUpConversation",(function(n){oe&&n.reject(l.e),te||n.reject("Conversation app must be enabled in your configuration."),O||n.reject("Upgrade to authenticated conversation must be enabled in your configuration"),p||n.reject("No active conversation found to stepup"),y||n.reject("AuthProvider.signIn command is missing");var u=ue||{},t=u.enabled,o=u.type;t&&Q&&o&&Ie()?n.reject("Conversation session has ended, start a new session to stepup conversation."):e.command("Auth.signIn").then((function(e){n.resolve(e)}),(function(u){X.onStepupFailed&&X.onStepupFailed(),e.publish("stepUpConversationError",u),n.reject(u)}))})),e.registerCommand("clearAndStepUpConversation",(function(n){oe&&n.reject(l.e),te||n.reject("Conversation app must be enabled in your configuration."),O||n.reject("Upgrade to authenticated conversation must be enabled in your configuration"),p||A||n.reject("No active conversation found to upgrade"),P||A||n.reject("User must be logged in to upgrade conversation"),k?m.stepUpConversation().then((function(u){e.publish("promotedConversation",u),e.command("restoreAuthSession").then((function(){k=!1})),n.resolve(u)}),(function(e){n.reject("Failed to step up")})):n.reject("No previous authenticated conversation found to clear and upgrade")})),e.registerCommand("init",(function(n){oe?n.reject(l.e):(e.command(fe+".get",{name:S+ce}).then((function(n){if(n&&!he){var u=n.split(" "),t=o()(u,1)[0];t&&"string"==typeof t&&"true"===t?setTimeout((function(){e.command("restore")}),200):x&&P&&R?setTimeout((function(){e.command("restoreAuthSession")}),100):"boolean"==typeof Ae&&Ae&&(G||e.command("getConfiguration"))}})),n.resolve())})),e.subscribe("Conversations.autoStart",(function(n){var u=n.data.journeyContext;!G||p||B||$?G&&B&&e.publish("autoStarted"):(u&&Object.keys(u).length&&(v=Object(a.x)(v,C({},u),{triggeringAction:u.triggeringAction})),m.connect(),X.onStarting&&X.onStarting(),e.publish("autoStarted"))})),e.subscribe("MessengerHelper.onWebSocketMessage",(function(e){m.onWebSocketMessage(e.data)})),e.subscribe("MessengerHelper.onWebSocketClose",(function(e){V=!0,m.onWebSocketClose(e.data)})),e.subscribe("MessengerHelper.onWebSocketError",(function(e){m.onWebSocketError(e.data)})),e.subscribe("MessengerHelper.uploadProgress",(function(e){m.onUploadProgress(e.data)})),e.subscribe("Database.updated",(function(e){e.data&&_e(e.data)})),e.subscribe("Database.removed",(function(e){e.data&&_e(e.data)})),e.subscribe("Identifiers.ready",(function(){e.command("Identifiers.getCustomerId").then((function(e){e&&(g=e)})),e.command("Identifiers.getSessionId").then((function(e){e&&(E=e)})),e.command("Identifiers.getJourneyContext").then((function(e){var n=e.customer,u=e.customerSession;n&&Object.keys(n).length&&u&&Object.keys(u).length&&(v=Object(a.x)(!0,v,e))}))})),e.subscribe("Journey.qualifiedWebMessagingOffer",(function(e){var n=e.data.journeyContext;oe||n&&Object.keys(n).length&&(v=Object(a.x)(v,C({},n),{triggeringAction:n.triggeringAction}))})),x&&e.command("Auth.getSettings").then((function(e){e&&e}),(function(){})),e.command(fe+".get",{names:["gcatkn"]}).then((function(n){n&&n.gcatkn&&"undefined"!==n.gcatkn?(_=!1,m.removeSessionActiveStorage({init:!0})):e.command("init")})),e.command("Database.get",{}).then((function(e){e&&(m.oCustomAttributes=e)})),e.subscribe("Auth.signedOut",(function(e){x&&(_=!0,R=!1,U=!1,j=!1,O&&(Y=!0),O&&!De&&(g="",E="",m.config.token="",v={}))})),e.subscribe("Identifiers.identifiersPurged",(function(){O&&_&&Pe({forceNewCustomer:!0})})),e.subscribe("Auth.signedIn",(function(e){x&&O&&(P=!0,m.removeSessionActiveStorage())})),e.subscribe("Auth.signInAvailable",(function(){x&&O&&(y=!0)})),e.subscribe("Broadcast.messageReceived",(function(n){var u=n.data||{},t=u.message,o=u.plugin;x&&t&&o&&"MessagingService"===o&&(H||"reAuthenticating"!==t?L&&"authenticated"===t?(z&&(clearTimeout(z),z=!1),L=!1,X.onAuthenticated&&X.onAuthenticated()):"authenticated"!==t||H?"steppedUpConversation"!==t||H||p||!ie?"deletedAnonymousInAuthSession"===t&&Q?(X.onSessionCleared&&X.onSessionCleared(),Q=!1,p&&e.command("endConversation",{deletedAnonymousInAuthSession:!0}),ie=!0,setTimeout((function(){Pe(),e.publish("authenticated")}),600)):"loggedOut"!==t||N||setTimeout((function(){m.onLogout({keepIdentifiers:!0,fromBroadcastEvent:!0,implicit:!0})}),200):(Ne({publishEvent:!0}),ie=!1):(p||(ie=!0),q&&e.publish("authenticated")):(L||(L=!0,X.onReauthenticate&&X.onReauthenticate()),z&&(clearTimeout(z),z=!1),z=setTimeout((function(){L=!1,X.onStart&&X.onStart()}),8e3)))}));var Ue=function(){L=!0,H=!0,clearInterval(W),W="",W=setInterval((function(){e.command("Broadcast.postMessage",{message:"reAuthenticating",plugin:"MessagingService"})}),6e3)};e.subscribe("Auth.authenticated",(function(){x&&(_=!1,L=!1,H=!1,R=!0,W&&(clearInterval(W),W=""),x&&(e.command("Broadcast.postMessage",{message:"authenticated",plugin:"MessagingService"}),O?(m.removeSessionActiveStorage(),p?m.bDeletedAnonymousInAuthSession||(M=!0,X.onSteppingUpConversation&&X.onSteppingUpConversation(),e.publish("steppingUpConversation"),m.configureConnection()):Ne()):N?(N=!1,e.command("Identifiers.getCustomerId").then((function(e){e&&(g=e)})),e.command("Identifiers.getSessionId").then((function(e){e&&(E=e)})),e.command("Identifiers.getJourneyContext").then((function(e){var n=e.customer,u=e.customerSession;n&&Object.keys(n).length&&u&&Object.keys(u).length&&(v=Object(a.x)(!0,v,e))})),e.command(fe+".get",{name:S+ce}).then((function(n){if(n){var u=n.split(" "),t=o()(u,1)[0];t&&"string"==typeof t&&"true"===t&&e.command("restoreAuthSession")}else Ne()}))):Ne()))})),e.ready()}}))}))},73:function(e,n,u){var t=u(74);e.exports=function(e,n){if(e){if("string"==typeof e)return t(e,n);var u=Object.prototype.toString.call(e).slice(8,-1);return"Object"===u&&e.constructor&&(u=e.constructor.name),"Map"===u||"Set"===u?Array.from(e):"Arguments"===u||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u)?t(e,n):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},74:function(e,n){e.exports=function(e,n){(null==n||n>e.length)&&(n=e.length);for(var u=0,t=new Array(n);u<n;u++)t[u]=e[u];return t},e.exports.__esModule=!0,e.exports.default=e.exports},78:function(e,n){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},79:function(e,n){e.exports=function(e,n){var u=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=u){var t,o,r=[],D=!0,i=!1;try{for(u=u.call(e);!(D=(t=u.next()).done)&&(r.push(t.value),!n||r.length!==n);D=!0);}catch(e){i=!0,o=e}finally{try{D||null==u.return||u.return()}finally{if(i)throw o}}return r}},e.exports.__esModule=!0,e.exports.default=e.exports},8:function(e,n){e.exports=function(e,n,u){return n in e?Object.defineProperty(e,n,{value:u,enumerable:!0,configurable:!0,writable:!0}):e[n]=u,e},e.exports.__esModule=!0,e.exports.default=e.exports},80:function(e,n){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports}})}));